<%= form_with(model: attendee_event) do |form| %>
    <% if attendee_event.errors.any? %>
        <div style="color: red">
        <h2><%= pluralize(attendee_event.errors.count, "error") %> prohibited this event from being saved:</h2>

        <ul>
            <% attendee_event.errors.each do |error| %>
            <li><%= error.full_message %></li>
            <% end %>
        </ul>
        </div>
    <% end %>

    <h2>Choose one of the following events</h2>

    <div class="field">
        <%= form.label :attended_event_id %>
        <%= form.select :attended_event_id, options_for_select(events.map { |event| [event.name, event.id] }) %>  
    </div>

    <div>
        <%= form.hidden_field :attendee_id, value: current_user.id %>

        <%= form.submit %>
    </div>
<% end %>